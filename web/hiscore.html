<!DOCTYPE HTML>
<html>
	<head>
		<title>High Scores</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="assets/css/bootstrap.min.css" />
        <link rel="stylesheet" href="assets/css/bootstrap-grid.min.css" />
        <link rel="stylesheet" href="assets/css/bootstrap-reboot.min.css" />
        <link rel="stylesheet" href="assets/css/font-awesome.min.css" />
        <link rel="stylesheet" href="assets/css/animate.css" />
        <link rel="stylesheet" href="assets/css/main.css">
        <link rel="stylesheet" href="assets/css/hiscore.css" />
	</head>
    <body>
        <div class="flex col center-horizontal center-vertical">
            <h1>HI SCORES</h1>
            <table id="scores" class="table">
                <thead>
                    <tr>
                        <td><h2>Name</h2></td>
                        <td><h2>Score</h2></td>
                        <td><h2>Games</h2></td>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </div>
            <div id="error"></div>
        </div>

        <!-- Scripts -->
        <script src="assets/js/jquery.min.js"></script>
        <script src="assets/js/createjs.min.js"></script>
        <script src="assets/js/clients/ScoreClient.js"></script>
        <script>
            const scoreClient = new ScoreClient()
            scoreClient.getAll()
                .then((scores) => {
                    const scoresElement = $("#scores tbody")
                    let alt = false
                    for(const score of scores.scores) {
                        const html = `<tr class="score${alt ? " alt" : ""}"><td>${score.name}<td>${score.score}</td><td>${score.gamesplayed}</td></tr>`
                        scoresElement.append(html)
                        alt = !alt
                    }
                })
                .catch(function(error) {
                    $("#error").text(message)
                })
        </script>
	</body>
</html>